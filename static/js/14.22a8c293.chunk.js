(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[14],{503:function(e,t,s){},542:function(e,t,s){"use strict";s.r(t),s.d(t,"ClientList",(function(){return k}));var a=s(0),i=s.n(a),l=s(543),n=s(193),c=s(119),r=s(537),d=s(536),m=s(443),o=s(525),j=s(244),b=s(500),h=s.n(b),u=s(266),x=s(540),p=s(538),O=s(539),y=s(501),g=s(502),f=s(444),v=s(458),N=s(30),w=s(167),C=s(5);class U extends i.a.Component{constructor(){super(...arguments),this.state={id:"",name:"",email:"",userName:"",phoneNumber:"",website:"",company:"",city:""}}static getDerivedStateFromProps(e,t){return e.client.id!==t.id?{id:e.client.id,name:e.client.name,email:e.client.email,userName:e.client.username,phoneNumber:e.client.phone,website:e.client.website,company:e.client.cpy,city:e.client.city}:null}getBase64(e,t){const s=new FileReader;s.addEventListener("load",(()=>t(s.result))),s.readAsDataURL(e)}render(){console.log("edit props----",this.props.client);console.log("edit state----",this.state);const{name:e,email:t,userName:s,phoneNumber:a,website:i,city:l,company:n,avatarUrl:r}=this.state;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(w.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(C.jsx)(x.a,{size:90,src:r,icon:Object(C.jsx)(v.a,{})}),Object(C.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(C.jsx)(p.a,{onChange:e=>{const t="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(this.getBase64(e.file.originFileObj,(e=>this.setState({avatarUrl:e}))),u.b.success({content:"Uploaded!",key:t,duration:1.5})):u.b.loading({content:"Uploading...",key:t,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(C.jsx)(c.a,{type:"primary",children:"Change Avatar"})}),Object(C.jsx)(c.a,{className:"ml-2",onClick:()=>{this.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(C.jsx)("div",{className:"mt-4",children:Object(C.jsx)(O.a,{name:"basicInformation",layout:"vertical",onFinish:e=>{const t="updatable";u.b.loading({content:"Updating...",key:t}),setTimeout((()=>{this.setState({name:e.name,email:e.email,userName:e.username,phoneNumber:e.phone,website:e.website,company:e.cpy,city:e.city}),u.b.success({content:"Done!",key:t,duration:2})}),1e3)},onFinishFailed:e=>{console.log("Failed:",e)},children:Object(C.jsx)(y.a,{children:Object(C.jsxs)(g.a,{xs:24,sm:24,md:24,lg:16,children:[Object(C.jsxs)(y.a,{gutter:N.c,children:[Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"Name",name:"name",rules:[{message:"Please input name!"}],children:Object(C.jsx)(f.a,{defaultValue:e})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"Username",name:"username",rules:[{message:"Please input username!"}],children:Object(C.jsx)(f.a,{defaultValue:s})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"Email",name:"email",rules:[{type:"email",message:"Please enter a valid email!"}],children:Object(C.jsx)(f.a,{defaultValue:t})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(C.jsx)(f.a,{defaultValue:a})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"Website",name:"website",children:Object(C.jsx)(f.a,{defaultValue:i})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:24,children:Object(C.jsx)(O.a.Item,{label:"Company",name:"company",children:Object(C.jsx)(f.a,{defaultValue:n})})}),Object(C.jsx)(g.a,{xs:24,sm:24,md:12,children:Object(C.jsx)(O.a.Item,{label:"City",name:"city",children:Object(C.jsx)(f.a,{defaultValue:l})})})]}),Object(C.jsx)(c.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})}}var I=U;const P=e=>Object(C.jsx)(x.a,{...e,className:"ant-avatar-".concat(e.type),children:e.text});var V=e=>{const{name:t,suffix:s,subTitle:a,id:i,type:l,src:n,icon:c,size:r,shape:d,gap:m,text:o,onNameClick:j}=e;return Object(C.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[P({icon:c,src:n,type:l,size:r,shape:d,gap:m,text:o}),Object(C.jsxs)("div",{className:"ml-2",children:[Object(C.jsxs)("div",{children:[j?Object(C.jsx)("div",{onClick:()=>j({name:t,subTitle:a,src:n,id:i}),className:"avatar-status-name clickable",children:t}):Object(C.jsx)("div",{className:"avatar-status-name",children:t}),Object(C.jsx)("span",{children:s})]}),Object(C.jsx)("div",{className:"text-muted avatar-status-subtitle",children:a})]})]})};s(488),s(503);class k extends a.Component{constructor(){super(...arguments),this.state={clients:[],userProfileVisible:!1,selectedUser:null},this.showUserProfile=e=>{this.setState({userProfileVisible:!0,selectedUser:e})},this.closeUserProfile=()=>{this.setState({userProfileVisible:!1,selectedUser:null})},this.setClients=e=>{e.map(((t,s)=>{e[s].cpy=e[s].company.name,e[s].city=e[s].address.city})),this.setState({clients:e})}}componentDidMount(){console.log("userProfileVisible",this.userProfileVisible),fetch("https://jsonplaceholder.typicode.com/users").then((e=>e.json())).then((e=>this.setClients(e)))}render(){const{userProfileVisible:e,selectedUser:t,clients:s}=this.state,a=[{title:"\u041a\u043b\u0438\u0435\u043d\u0442",dataIndex:"name",render:(e,t)=>Object(C.jsx)("div",{className:"d-flex",children:Object(C.jsx)(V,{src:t.img,name:t.name,subTitle:t.email})}),sorter:{compare:(e,t)=>(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}},{title:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",dataIndex:"cpy",sorter:{compare:(e,t)=>e.role.length-t.role.length}},{title:"\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",dataIndex:"city",sorter:(e,t)=>h()(e.lastOnline).unix()-h()(t.lastOnline).unix()},{title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",dataIndex:"phone",render:e=>Object(C.jsx)(l.a,{className:"text-capitalize",color:"cyan",children:e}),sorter:{compare:(e,t)=>e.status.length-t.status.length}},{title:"Email",dataIndex:"email",render:e=>Object(C.jsx)(l.a,{className:"text-capitalize",color:"blue",children:e}),sorter:{compare:(e,t)=>e.status.length-t.status.length}},{title:"",dataIndex:"actions",render:(e,t)=>Object(C.jsx)("div",{className:"text-right",children:Object(C.jsx)(n.a,{title:"View",children:Object(C.jsx)(c.a,{type:"primary",className:"mr-2",icon:Object(C.jsx)(j.a,{}),onClick:()=>this.showUserProfile(t),size:"small"})})})}];return e?Object(C.jsxs)(r.a,{bodyStyle:{padding:"20px"},children:[Object(C.jsx)(I,{client:t}),Object(C.jsx)("br",{}),Object(C.jsx)(c.a,{className:"ml-2",onClick:this.closeUserProfile,children:"Back"})]}):s.length>0?Object(C.jsx)(r.a,{bodyStyle:{padding:"0px"},children:Object(C.jsx)(d.a,{columns:a,dataSource:s,rowKey:"id"})}):Object(C.jsx)(m.a,{tip:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445...",size:"large",children:Object(C.jsx)(o.a,{type:"info"})})}}t.default=k}}]);
//# sourceMappingURL=14.22a8c293.chunk.js.map